'use strict';function getScrollbarWidth(){var outer=document.createElement('div');outer.style.visibility='hidden';outer.style.width='100px';outer.style.msOverflowStyle='scrollbar';document.body.appendChild(outer);var widthNoScroll=outer.offsetWidth;outer.style.overflow='scroll';var inner=document.createElement('div');inner.style.width='100%';outer.appendChild(inner);var widthWithScroll=inner.offsetWidth;outer.parentNode.removeChild(outer);return widthNoScroll-widthWithScroll}var writeProject=function writeProject(result){var $content=$(result);$content.appendTo($('.modal'));setTimeout(function(){$('.modal__wrapper').addClass('loaded')},100)};var getProject=function getProject(project){var promise=$.get(project);promise.then(writeProject)};var removeProject=function removeProject(){$('.modal').find('.modal__wrapper').remove()};$('.work__link').click(function(e){e.preventDefault();var $this=$(this);$('html').removeClass('remove-overlay');$('html').addClass('overlay');$('body').css('padding-right',getScrollbarWidth()+'px');getProject($this.attr('href'))});$('.modal__close').click(function(){$('html').removeClass('overlay');$('body').css('padding-right',0);$('.modal__wrapper').removeClass('loaded');$('html').addClass('remove-overlay');setTimeout(function(){$('html').removeClass('remove-overlay');removeProject()},500)});var getMoreProjects=function getMoreProjects(){setTimeout(function(){$('.work__item.hide').slice(0,3).removeClass('hide');$('#nav').scrollspy({offset:-75});if($('.work__item.hide').length>0){$('.work__buttons .button--loader').removeClass('loading')}else{$('.work__buttons .button--loader').remove()}},500)};$('.work__buttons .button--loader').click(function(){$(this).addClass('loading');getMoreProjects()});jQuery.event.special.touchstart={setup:function setup(_,ns,handle){if(ns.includes('noPreventDefault')){this.addEventListener('touchstart',handle,{passive:false})}else{this.addEventListener('touchstart',handle,{passive:true})}}};var lazyLoadInstance=new LazyLoad({elements_selector:'.lazy',callback_loaded:function callback_loaded(el){var viewport=el.parentElement;var content=el;var sb=new ScrollBooster({viewport:viewport,content:content,mode:'x',onUpdate:function onUpdate(data){content.style.transform='translateX('+-data.position.x+'px)'}})}});$(document).on('click','a[href^="#"]',function(event){event.preventDefault();$('html, body').animate({scrollTop:$($.attr(this,'href')).offset().top},500)});$('document').ready(function(){$('html').removeClass('no-js');$('.header').addClass('loaded')});$('#nav').scrollspy({offset:-75});AOS.init();var $validator=$('#form').validate({submitHandler:function submitHandler(form){submitForm()}});var submitForm=function submitForm(e){var $button=$('.form .button--loader');var $form=$('#form');$form.removeClass('form--show-error');$form.removeClass('form--show-success');$button.addClass('loading');$.ajax({type:'POST',dataType:'json',url:'https://aleixo.prod.with-datafire.io/contact',data:$form.serialize(),success:function success(data){$form[0].reset();$form.addClass('form--show-success');$button.removeClass('loading');$validator.resetForm()},error:function error(data){$form.addClass('form--show-error');$button.removeClass('loading')}}).fail(function(data){$form.addClass('form--show-error');$button.removeClass('loading')});return false};var clientX=-100;var clientY=-100;var cursorClass='cursor cursor--small';var innerCursor=document.querySelector('.cursor--small');var initCursor=function initCursor(){document.addEventListener('mousemove',function(e){clientX=e.clientX;clientY=e.clientY;if($(e.target).is('.work__image .loaded')){cursorClass='cursor cursor--small drag'}else if($(e.target).is('a, button, .form__input')){cursorClass='cursor cursor--small link'}else{cursorClass='cursor cursor--small'}});$(document).on('mousedown',function(){$(innerCursor).attr('data-pressed','pressed')});$(document).on('mouseup',function(){$(innerCursor).attr('data-pressed','')});var render=function render(){innerCursor.style.transform='translate('+clientX+'px, '+clientY+'px)';innerCursor.classList=cursorClass;requestAnimationFrame(render)};requestAnimationFrame(render)};initCursor();